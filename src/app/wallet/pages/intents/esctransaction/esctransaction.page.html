<ion-content class="ion-text-center">
  <app-titlebar title="text-vote-crcouncil"></app-titlebar>
  <div class="warning" *ngIf="!evmSubWallet">
    <p>{{ 'wallet.wallet-unsupported-on-network' | translate:{network: currentNetworkName} }}</p>
  </div>
  <ion-spinner *ngIf="!transactionInfo && evmSubWallet"></ion-spinner>
  <ion-grid class="container" [class.dark-container]="theme.darkMode" *ngIf="transactionInfo && networkWallet">
    <!-- CARD HEADER -->
    <div [ngSwitch]="transactionInfo.type">
      <ion-card *ngSwitchCase="'erc20_token_approve'">
        <ion-card-header>
          <div class="img" inlineSVG="assets/wallet/intents/curcol-smartcontracts.svg"></div>
          <ion-card-title>{{ 'wallet.esctransaction-approve-token' | translate }}
          </ion-card-title>
          <ion-card-subtitle>
            {{ 'wallet.esctransaction-approve-token-intro' | translate: { token:
            getApproveTokenNameWithSymbol(transactionInfo) } }}
            <br />
            {{ 'wallet.esctransaction-approve-token-spending-cap' | translate }} {{ spendingCap }}
          </ion-card-subtitle>
        </ion-card-header>
      </ion-card>
      <ion-card *ngSwitchCase="'erc721_token_approve'">
        <ion-card-header>
          <div class="img" inlineSVG="assets/wallet/intents/curcol-smartcontracts.svg"></div>
          <ion-card-title>{{ 'wallet.esctransaction-approve-token' | translate
            }}<br /><b>{{transactionInfo.symbol}}</b></ion-card-title>
          <ion-card-subtitle>
            {{ 'wallet.esctransaction-approve-token-intro' | translate: { token:
            getApproveTokenNameWithSymbol(transactionInfo) } }}
          </ion-card-subtitle>
        </ion-card-header>
      </ion-card>
      <ion-card *ngSwitchDefault>
        <div class="img" inlineSVG="assets/wallet/intents/curcol-smartcontracts.svg"></div>
        <ion-card-title>{{ 'wallet.esctransaction-smart-contract' | translate }}</ion-card-title>
        <ion-card-subtitle>
          {{ 'wallet.esctransaction-intro' | translate }}
        </ion-card-subtitle>
      </ion-card>
    </div>

    <!-- Network info -->
    <ion-row class="network-row">
      <ion-col size="12" class="left-col">
        <img [src]="networkWallet.network.logo">
        <h1>{{ networkWallet.network.name }}</h1>
      </ion-col>
    </ion-row>

    <!-- TX INFO -->
    <!-- Standard EOA Account Component -->
    <app-standard-account *ngIf="!isAccountAbstractionWallet()" [balance]="balance" [gasPriceGwei]="gasPriceGwei"
      [gasLimitDisplay]="gasLimitDisplay" [showEditGasPrice]="showEditGasPrice" [uiService]="uiService"
      [totalTransactionCost]="getTotalTransactionCostInCurrency()" [getCurrencyInUse]="getCurrencyInUse.bind(this)"
      [getNativeCurrencyInUse]="getNativeCurrencyInUse.bind(this)" (editGasPriceEvent)="editGasPrice()"
      (updateGaspriceEvent)="updateGasprice($event)" (updateGasLimitEvent)="updateGasLimit($event)">
    </app-standard-account>

    <!-- Account Abstraction Component -->
    <app-account-abstraction *ngIf="isAccountAbstractionWallet()" [balance]="balance" [uiService]="uiService"
      [totalTransactionCost]="getTotalTransactionCostInCurrency()" [getCurrencyInUse]="getCurrencyInUse.bind(this)">
    </app-account-abstraction>

    <!-- BUTTONS FOOTER -->
    <ebutton class="btn cancel" [class.expand]="!balanceIsEnough()" [disabled]="!balanceIsEnough()" mode="cancel"
      (clicked)="cancelOperation()"
      [title]="(!balanceIsEnough() ? 'wallet.insufficient-balance' : 'common.cancel') | translate">
    </ebutton>
    <ebutton class="btn confirm" *ngIf="balanceIsEnough()" [disabled]="signingAndTransacting"
      (clicked)="goTransaction()" [title]="'common.confirm' | translate"></ebutton>
  </ion-grid>
</ion-content>