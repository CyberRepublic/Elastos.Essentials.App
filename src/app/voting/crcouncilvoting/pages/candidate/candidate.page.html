<ion-content>
    <app-titlebar></app-titlebar>

    <div *ngIf="candidate != null" [class.darkContainer]="theme.darkMode">
        <ion-list class="container">
            <ion-row class="id-row">
                <ion-col size="2.75" class="left-col">
                    <ion-avatar class="avatar">
                        <img [src]="candidate.avatar ? candidate.avatar : '/assets/crcouncilvoting/icon/avatar.png'"
                            src-fallback="/assets/crcouncilvoting/icon/avatar.png">
                    </ion-avatar>
                </ion-col>

                <ion-col size="6.5" class="name-col mid-col align-center">
                    <ion-label class="align-left">
                        <h2 class="name">{{ candidate.nickname }}</h2>
                        <p class="location">
                            <ion-icon src="/assets/crcouncilvoting/icon/location.svg"></ion-icon>
                            {{ 'crcouncilvoting.' + candidate.location | translate }}
                        </p>
                    </ion-label>
                </ion-col>
                <ion-col size="2.75" class="right-col align-center align-right">
                    <p id="status">
                        No.{{ candidate.index + 1}}</p>
                </ion-col>
            </ion-row>

            <ion-row class="candidate-row">
                <ion-col size="4" class="progress-container left-col">
                    <div class="progress-wrapper  align-center">
                        <div class="ratio">{{ ratio }}%</div>
                        <round-progress [current]="current" [max]="max" [rounded]="true"
                            [color]="gradient ? 'url(#gradient)' : color" [background]="background">
                        </round-progress>
                    </div>
                </ion-col>
                <ion-col size="8" class="right-col">
                    <ion-row class="top-row">
                        <ion-col size="12">
                            <h3 id="candidate-title">{{'crcouncilvoting.current-vote-count' | translate}}</h3>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col size="6" class="mid-col">
                            <ion-label>
                                <h5>{{'crcouncilvoting.current' | translate}}</h5>
                                <h4>
                                    <span>{{ current }}</span><span>{{' ' + ('crcouncilvoting.votes' |
                                        translate) }}</span>
                                </h4>
                            </ion-label>
                        </ion-col>
                        <ion-col size="6" class="mid-col">
                            <ion-label>
                                <h5>{{'crcouncilvoting.total-votes' | translate}}</h5>
                                <h4>
                                    <span>{{ max }}</span><span>{{' ' + ('crcouncilvoting.votes'
                                        | translate) }}</span>
                                </h4>
                            </ion-label>
                        </ion-col>
                    </ion-row>
                </ion-col>
            </ion-row>

            <ion-row>
                <div class="about align-center">{{'crcouncilvoting.about-candidate' | translate}}</div>
            </ion-row>

            <ion-row class="profile-data">
                <ion-col>
                    <h5>{{'crcouncilvoting.candidate-did' | translate}}</h5>
                    <h4>{{ candidate.did }}</h4>
                </ion-col>
            </ion-row>

            <ion-row class="profile-data" *ngIf="candidate.url">
                <div>
                    <h5>{{'crcouncilvoting.candidate-url' | translate}}</h5>
                    <h4 (click)="uxService.openLink(candidate.url)">{{ candidate.url }}</h4>
                </div>
            </ion-row>
            <ion-row class="profile-data" *ngIf="candidate.introduction">
                <ion-col>
                    <h5>{{'crcouncilvoting.member-profile' | translate}}</h5>
                    <h4>{{ candidate.introduction }}</h4>
                </ion-col>
            </ion-row>
            <ion-row class="profile-data" *ngIf="socialMedias.length > 0">
                <ion-col>
                    <h5>{{'crcouncilvoting.social-media' | translate}}</h5>
                    <ul id="social-media">
                        <li *ngFor="let item of socialMedias">
                            <div id="item">
                                <img *ngIf="item.type == 'telegram'"
                                    [src]="!theme.darkMode ? '/assets/crcouncilvoting/icon/telegram.svg' : '/assets/crcouncilvoting/icon/darkmode/telegram.svg'" />
                                <img *ngIf="item.type == 'twitter'"
                                    [src]="!theme.darkMode ? '/assets/crcouncilvoting/icon/twitter.svg' : '/assets/crcouncilvoting/icon/darkmode/twitter.svg'" />
                            </div>
                            <div class="space"></div>
                        </li>
                    </ul>
                </ion-col>
            </ion-row>
        </ion-list>
    </div>

    <div *ngIf="candidate == null" class="spinner align-center">
        <ion-spinner name="crescent"></ion-spinner>
    </div>

</ion-content>