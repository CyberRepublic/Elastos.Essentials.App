<ion-content>
  <app-titlebar></app-titlebar>
  <ion-slides
    #slide
    [options]="slideOpts"
    [class.hidden]="hidden"
    (ionSlideWillChange)="onSlideChanged()"
    class="ion-text-center">
    <ion-slide class="ion-text-center">
      <h2>Publishing your identity to the public ledger</h2>
      <p>This step is mandatory and takes a few seconds, please hold on.</p>
      <ion-spinner name="crescent" *ngIf="!publishError"></ion-spinner>
      <div *ngIf="publishError">
        <ion-button (click)="cancelPreparation()">{{ 'back' | translate }}</ion-button>
        <div class="error">{{publishError}}</div>
      </div>
    </ion-slide>
    <ion-slide class="ion-text-center">
      <h2>Signing in</h2>
      <p>Entering Elastos Essentials</p>
      <ion-spinner name="crescent" *ngIf="!signInError"></ion-spinner>
      <div *ngIf="signInError">
        <ion-button (click)="cancelPreparation()">{{ 'back' | translate }}</ion-button>
        <div class="error">{{signInError}}</div>
      </div>
    </ion-slide>
    <ion-slide class="ion-text-center">
      <h2>Making some storage space for apps</h2>
      <p>A storage space is being created on a random Elastos Hive storage provider.
        You can move your data somewhere else later.</p>
      <ion-spinner name="crescent" *ngIf="!hiveError"></ion-spinner>
      <div *ngIf="hiveError">
        <ion-button (click)="cancelPreparation()">{{ 'back' | translate }}</ion-button>
        <div class="error">{{hiveError}}</div>
      </div>
    </ion-slide>
    <ion-slide class="ion-text-center">
      <h2>Creating a default wallet</h2>
      <p>A default wallet is created with the same paper key as your DID.
        You can choose to use it or to delete it.</p>
      <ion-spinner name="crescent"></ion-spinner>
    </ion-slide>
    <ion-slide class="ion-text-center">
      <h2>All done!</h2>
      <p>Your identity is now fully ready. You can start to use Elastos Essentials.</p>
    </ion-slide>
  </ion-slides>

  <div class="footer" *ngIf="slideIndex === ALL_DONE_SLIDE_INDEX">
    <ion-button (click)="finalizePreparation()">{{ 'continue' | translate }}</ion-button>
  </div>
</ion-content>

