<ion-content [class.lightmode]="!theme.darkMode" [class.dark-container]="theme.darkMode">
  <app-titlebar></app-titlebar>

  <ion-grid class="container" [class.light-container]="!theme.darkMode" [class.dark-container]="theme.darkMode">
    <!-- Non lightweight mode: 3 panels with slides -->
    <ion-slides *ngIf="!lightweightMode" #widgetsslides [options]="widgetsSlidesOpts"
      (ionSlideDidChange)="onSlideChange($event)" (ionSlideTouchEnd)="onSlideTouchEnd()"
      class="widgets-containers-slides" [class.hidden]="!slidesShown">
      <ion-slide>
        <widget-container name="left"></widget-container>
      </ion-slide>
      <ion-slide>
        <lottie-player *ngIf="showSwipeIndicator" src="/assets/launcher/animations/104585-swipe.json"
          background="transparent" speed="0.8" style="width: 80px; height: 80px;" autoplay loop></lottie-player>
        <widget-container name="main"></widget-container>
      </ion-slide>
      <ion-slide>
        <widget-container name="right"></widget-container>
      </ion-slide>
    </ion-slides>

    <!-- Lightweight mode: single container without slides -->
    <div *ngIf="lightweightMode" class="lightweight-container">
      <widget-container name="main"></widget-container>
    </div>

  </ion-grid>

  <div class="home-footer">
    <div class="edit" (click)="toggleEditWidgets()">
      <img [src]="theme.darkMode ? '/assets/launcher/icons/dark_mode/edit.svg' : '/assets/launcher/icons/edit.svg'" />
    </div>
    <div class="nav" *ngIf="!lightweightMode">
      <div class="dot" [class.active]="activeScreenIndex === 0"></div>
      <div class="dot" [class.active]="activeScreenIndex === 1"></div>
      <div class="dot" [class.active]="activeScreenIndex === 2"></div>
    </div>
    <div class="add" (click)="addWidget()">
      <img [src]="theme.darkMode ? '/assets/launcher/icons/dark_mode/add.svg' : '/assets/launcher/icons/add.svg'" />
    </div>
  </div>

</ion-content>